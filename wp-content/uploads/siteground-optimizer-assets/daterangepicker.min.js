!function(b,c){var a,d;"function"==typeof define&&define.amd?define(["moment","jquery"],function(a,b){return b.fn||(b.fn={}),"function"!=typeof a&&a.hasOwnProperty("default")&&(a=a.default),c(a,b)}):"object"==typeof module&&module.exports?(a="undefined"!=typeof window?window.jQuery:void 0,a||(a=require("jquery")).fn||(a.fn={}),d="undefined"!=typeof window&&void 0!==window.moment?window.moment:require("moment"),module.exports=c(d,a)):b.daterangepicker=c(b.moment,b.jQuery)}(this,function(b,a){var c=function(o,c,n){var l,m,d,f,e,i,k,g,h,j;if(this.parentEl="body",this.element=a(o),this.startDate=b().startOf("day"),this.endDate=b().endOf("day"),this.minDate=!1,this.maxDate=!1,this.maxSpan=!1,this.autoApply=!1,this.singleDatePicker=!1,this.showDropdowns=!1,this.minYear=b().subtract(100,"year").format("YYYY"),this.maxYear=b().add(100,"year").format("YYYY"),this.showWeekNumbers=!1,this.showISOWeekNumbers=!1,this.showCustomRangeLabel=!0,this.timePicker=!1,this.timePicker24Hour=!1,this.timePickerIncrement=1,this.timePickerSeconds=!1,this.linkedCalendars=!0,this.autoUpdateInput=!0,this.alwaysShowCalendars=!1,this.ranges={},this.opens="right",this.element.hasClass("pull-right")&&(this.opens="left"),this.drops="down",this.element.hasClass("dropup")&&(this.drops="up"),this.buttonClasses="btn btn-sm",this.applyButtonClasses="btn-primary",this.cancelButtonClasses="btn-default",this.locale={direction:"ltr",format:b.localeData().longDateFormat("L"),separator:" - ",applyLabel:"Apply",cancelLabel:"Cancel",weekLabel:"W",customRangeLabel:"Custom Range",daysOfWeek:b.weekdaysMin(),monthNames:b.monthsShort(),firstDay:b.localeData().firstDayOfWeek()},this.callback=function(){},this.isShowing=!1,this.leftCalendar={},this.rightCalendar={},"object"==typeof c&&null!==c||(c={}),"string"==typeof(c=a.extend(this.element.data(),c)).template||c.template instanceof a||(c.template='<div class="daterangepicker"><div class="ranges"></div><div class="drp-calendar left"><div class="calendar-table"></div><div class="calendar-time"></div></div><div class="drp-calendar right"><div class="calendar-table"></div><div class="calendar-time"></div></div><div class="drp-buttons"><span class="drp-selected"></span><button class="cancelBtn" type="button"></button><button class="applyBtn" disabled="disabled" type="button"></button> </div></div>'),this.parentEl=c.parentEl&&a(c.parentEl).length?a(c.parentEl):a(this.parentEl),this.container=a(c.template).appendTo(this.parentEl),"object"==typeof c.locale&&("string"==typeof c.locale.direction&&(this.locale.direction=c.locale.direction),"string"==typeof c.locale.format&&(this.locale.format=c.locale.format),"string"==typeof c.locale.separator&&(this.locale.separator=c.locale.separator),"object"==typeof c.locale.daysOfWeek&&(this.locale.daysOfWeek=c.locale.daysOfWeek.slice()),"object"==typeof c.locale.monthNames&&(this.locale.monthNames=c.locale.monthNames.slice()),"number"==typeof c.locale.firstDay&&(this.locale.firstDay=c.locale.firstDay),"string"==typeof c.locale.applyLabel&&(this.locale.applyLabel=c.locale.applyLabel),"string"==typeof c.locale.cancelLabel&&(this.locale.cancelLabel=c.locale.cancelLabel),"string"==typeof c.locale.weekLabel&&(this.locale.weekLabel=c.locale.weekLabel),"string"==typeof c.locale.customRangeLabel)&&((h=document.createElement("textarea")).innerHTML=c.locale.customRangeLabel,l=h.value,this.locale.customRangeLabel=l),this.container.addClass(this.locale.direction),"string"==typeof c.startDate&&(this.startDate=b(c.startDate,this.locale.format)),"string"==typeof c.endDate&&(this.endDate=b(c.endDate,this.locale.format)),"string"==typeof c.minDate&&(this.minDate=b(c.minDate,this.locale.format)),"string"==typeof c.maxDate&&(this.maxDate=b(c.maxDate,this.locale.format)),"object"==typeof c.startDate&&(this.startDate=b(c.startDate)),"object"==typeof c.endDate&&(this.endDate=b(c.endDate)),"object"==typeof c.minDate&&(this.minDate=b(c.minDate)),"object"==typeof c.maxDate&&(this.maxDate=b(c.maxDate)),this.minDate&&this.startDate.isBefore(this.minDate)&&(this.startDate=this.minDate.clone()),this.maxDate&&this.endDate.isAfter(this.maxDate)&&(this.endDate=this.maxDate.clone()),"string"==typeof c.applyButtonClasses&&(this.applyButtonClasses=c.applyButtonClasses),"string"==typeof c.applyClass&&(this.applyButtonClasses=c.applyClass),"string"==typeof c.cancelButtonClasses&&(this.cancelButtonClasses=c.cancelButtonClasses),"string"==typeof c.cancelClass&&(this.cancelButtonClasses=c.cancelClass),"object"==typeof c.maxSpan&&(this.maxSpan=c.maxSpan),"object"==typeof c.dateLimit&&(this.maxSpan=c.dateLimit),"string"==typeof c.opens&&(this.opens=c.opens),"string"==typeof c.drops&&(this.drops=c.drops),"boolean"==typeof c.showWeekNumbers&&(this.showWeekNumbers=c.showWeekNumbers),"boolean"==typeof c.showISOWeekNumbers&&(this.showISOWeekNumbers=c.showISOWeekNumbers),"string"==typeof c.buttonClasses&&(this.buttonClasses=c.buttonClasses),"object"==typeof c.buttonClasses&&(this.buttonClasses=c.buttonClasses.join(" ")),"boolean"==typeof c.showDropdowns&&(this.showDropdowns=c.showDropdowns),"number"==typeof c.minYear&&(this.minYear=c.minYear),"number"==typeof c.maxYear&&(this.maxYear=c.maxYear),"boolean"==typeof c.showCustomRangeLabel&&(this.showCustomRangeLabel=c.showCustomRangeLabel),"boolean"==typeof c.singleDatePicker&&(this.singleDatePicker=c.singleDatePicker,this.singleDatePicker&&(this.endDate=this.startDate.clone())),"boolean"==typeof c.timePicker&&(this.timePicker=c.timePicker),"boolean"==typeof c.timePickerSeconds&&(this.timePickerSeconds=c.timePickerSeconds),"number"==typeof c.timePickerIncrement&&(this.timePickerIncrement=c.timePickerIncrement),"boolean"==typeof c.timePicker24Hour&&(this.timePicker24Hour=c.timePicker24Hour),"boolean"==typeof c.autoApply&&(this.autoApply=c.autoApply),"boolean"==typeof c.autoUpdateInput&&(this.autoUpdateInput=c.autoUpdateInput),"boolean"==typeof c.linkedCalendars&&(this.linkedCalendars=c.linkedCalendars),"function"==typeof c.isInvalidDate&&(this.isInvalidDate=c.isInvalidDate),"function"==typeof c.isCustomDate&&(this.isCustomDate=c.isCustomDate),"boolean"==typeof c.alwaysShowCalendars&&(this.alwaysShowCalendars=c.alwaysShowCalendars),0!=this.locale.firstDay)for(m=this.locale.firstDay;m>0;)this.locale.daysOfWeek.push(this.locale.daysOfWeek.shift()),m--;if(void 0===c.startDate&&void 0===c.endDate&&a(this.element).is(":text")&&(i=a(this.element).val(),k=i.split(this.locale.separator),d=f=null,2==k.length?(d=b(k[0],this.locale.format),f=b(k[1],this.locale.format)):this.singleDatePicker&&""!==i&&(d=b(i,this.locale.format),f=b(i,this.locale.format)),null!==d&&null!==f&&(this.setStartDate(d),this.setEndDate(f))),"object"==typeof c.ranges){for(e in c.ranges)d="string"==typeof c.ranges[e][0]?b(c.ranges[e][0],this.locale.format):b(c.ranges[e][0]),f="string"==typeof c.ranges[e][1]?b(c.ranges[e][1],this.locale.format):b(c.ranges[e][1]),this.minDate&&d.isBefore(this.minDate)&&(d=this.minDate.clone()),g=this.maxDate,(this.maxSpan&&g&&d.clone().add(this.maxSpan).isAfter(g)&&(g=d.clone().add(this.maxSpan)),g&&f.isAfter(g)&&(f=g.clone()),!(this.minDate&&f.isBefore(this.minDate,this.timepicker?"minute":"day")||g&&d.isAfter(g,this.timepicker?"minute":"day")))&&((h=document.createElement("textarea")).innerHTML=e,l=h.value,this.ranges[l]=[d,f]);j="<ul>";for(e in this.ranges)j+='<li data-range-key="'+e+'">'+e+"</li>";this.showCustomRangeLabel&&(j+='<li data-range-key="'+this.locale.customRangeLabel+'">'+this.locale.customRangeLabel+"</li>"),j+="</ul>",this.container.find(".ranges").prepend(j)}"function"==typeof n&&(this.callback=n),this.timePicker||(this.startDate=this.startDate.startOf("day"),this.endDate=this.endDate.endOf("day"),this.container.find(".calendar-time").hide()),this.timePicker&&this.autoApply&&(this.autoApply=!1),this.autoApply&&this.container.addClass("auto-apply"),"object"==typeof c.ranges&&this.container.addClass("show-ranges"),this.singleDatePicker&&(this.container.addClass("single"),this.container.find(".drp-calendar.left").addClass("single"),this.container.find(".drp-calendar.left").show(),this.container.find(".drp-calendar.right").hide(),!this.timePicker&&this.autoApply&&this.container.addClass("auto-apply")),(void 0===c.ranges&&!this.singleDatePicker||this.alwaysShowCalendars)&&this.container.addClass("show-calendar"),this.container.addClass("opens"+this.opens),this.container.find(".applyBtn, .cancelBtn").addClass(this.buttonClasses),this.applyButtonClasses.length&&this.container.find(".applyBtn").addClass(this.applyButtonClasses),this.cancelButtonClasses.length&&this.container.find(".cancelBtn").addClass(this.cancelButtonClasses),this.container.find(".applyBtn").html(this.locale.applyLabel),this.container.find(".cancelBtn").html(this.locale.cancelLabel),this.container.find(".drp-calendar").on("click.daterangepicker",".prev",a.proxy(this.clickPrev,this)).on("click.daterangepicker",".next",a.proxy(this.clickNext,this)).on("mousedown.daterangepicker","td.available",a.proxy(this.clickDate,this)).on("mouseenter.daterangepicker","td.available",a.proxy(this.hoverDate,this)).on("change.daterangepicker","select.yearselect",a.proxy(this.monthOrYearChanged,this)).on("change.daterangepicker","select.monthselect",a.proxy(this.monthOrYearChanged,this)).on("change.daterangepicker","select.hourselect,select.minuteselect,select.secondselect,select.ampmselect",a.proxy(this.timeChanged,this)),this.container.find(".ranges").on("click.daterangepicker","li",a.proxy(this.clickRange,this)),this.container.find(".drp-buttons").on("click.daterangepicker","button.applyBtn",a.proxy(this.clickApply,this)).on("click.daterangepicker","button.cancelBtn",a.proxy(this.clickCancel,this)),this.element.is("input")||this.element.is("button")?this.element.on({"click.daterangepicker":a.proxy(this.show,this),"focus.daterangepicker":a.proxy(this.show,this),"keyup.daterangepicker":a.proxy(this.elementChanged,this),"keydown.daterangepicker":a.proxy(this.keydown,this)}):(this.element.on("click.daterangepicker",a.proxy(this.toggle,this)),this.element.on("keydown.daterangepicker",a.proxy(this.toggle,this))),this.updateElement()};return c.prototype={constructor:c,setStartDate:function(a){"string"==typeof a&&(this.startDate=b(a,this.locale.format)),"object"==typeof a&&(this.startDate=b(a)),this.timePicker||(this.startDate=this.startDate.startOf("day")),this.timePicker&&this.timePickerIncrement&&this.startDate.minute(Math.round(this.startDate.minute()/this.timePickerIncrement)*this.timePickerIncrement),this.minDate&&this.startDate.isBefore(this.minDate)&&(this.startDate=this.minDate.clone(),this.timePicker&&this.timePickerIncrement&&this.startDate.minute(Math.round(this.startDate.minute()/this.timePickerIncrement)*this.timePickerIncrement)),this.maxDate&&this.startDate.isAfter(this.maxDate)&&(this.startDate=this.maxDate.clone(),this.timePicker&&this.timePickerIncrement&&this.startDate.minute(Math.floor(this.startDate.minute()/this.timePickerIncrement)*this.timePickerIncrement)),this.isShowing||this.updateElement(),this.updateMonthsInView()},setEndDate:function(a){"string"==typeof a&&(this.endDate=b(a,this.locale.format)),"object"==typeof a&&(this.endDate=b(a)),this.timePicker||(this.endDate=this.endDate.endOf("day")),this.timePicker&&this.timePickerIncrement&&this.endDate.minute(Math.round(this.endDate.minute()/this.timePickerIncrement)*this.timePickerIncrement),this.endDate.isBefore(this.startDate)&&(this.endDate=this.startDate.clone()),this.maxDate&&this.endDate.isAfter(this.maxDate)&&(this.endDate=this.maxDate.clone()),this.maxSpan&&this.startDate.clone().add(this.maxSpan).isBefore(this.endDate)&&(this.endDate=this.startDate.clone().add(this.maxSpan)),this.previousRightTime=this.endDate.clone(),this.container.find(".drp-selected").html(this.startDate.format(this.locale.format)+this.locale.separator+this.endDate.format(this.locale.format)),this.isShowing||this.updateElement(),this.updateMonthsInView()},isInvalidDate:function(){return!1},isCustomDate:function(){return!1},updateView:function(){this.timePicker&&(this.renderTimePicker("left"),this.renderTimePicker("right"),this.endDate?this.container.find(".right .calendar-time select").prop("disabled",!1).removeClass("disabled"):this.container.find(".right .calendar-time select").prop("disabled",!0).addClass("disabled")),this.endDate&&this.container.find(".drp-selected").html(this.startDate.format(this.locale.format)+this.locale.separator+this.endDate.format(this.locale.format)),this.updateMonthsInView(),this.updateCalendars(),this.updateFormInputs()},updateMonthsInView:function(){if(this.endDate){if(!this.singleDatePicker&&this.leftCalendar.month&&this.rightCalendar.month&&(this.startDate.format("YYYY-MM")==this.leftCalendar.month.format("YYYY-MM")||this.startDate.format("YYYY-MM")==this.rightCalendar.month.format("YYYY-MM"))&&(this.endDate.format("YYYY-MM")==this.leftCalendar.month.format("YYYY-MM")||this.endDate.format("YYYY-MM")==this.rightCalendar.month.format("YYYY-MM")))return;this.leftCalendar.month=this.startDate.clone().date(2),this.linkedCalendars||this.endDate.month()==this.startDate.month()&&this.endDate.year()==this.startDate.year()?this.rightCalendar.month=this.startDate.clone().date(2).add(1,"month"):this.rightCalendar.month=this.endDate.clone().date(2)}else this.leftCalendar.month.format("YYYY-MM")!=this.startDate.format("YYYY-MM")&&this.rightCalendar.month.format("YYYY-MM")!=this.startDate.format("YYYY-MM")&&(this.leftCalendar.month=this.startDate.clone().date(2),this.rightCalendar.month=this.startDate.clone().date(2).add(1,"month"));this.maxDate&&this.linkedCalendars&&!this.singleDatePicker&&this.rightCalendar.month>this.maxDate&&(this.rightCalendar.month=this.maxDate.clone().date(2),this.leftCalendar.month=this.maxDate.clone().date(2).subtract(1,"month"))},updateCalendars:function(){if(this.timePicker){var a,b,c,d;this.endDate?(a=parseInt(this.container.find(".left .hourselect").val(),10),b=parseInt(this.container.find(".left .minuteselect").val(),10),isNaN(b)&&(b=parseInt(this.container.find(".left .minuteselect option:last").val(),10)),c=this.timePickerSeconds?parseInt(this.container.find(".left .secondselect").val(),10):0,!this.timePicker24Hour)&&("PM"===(d=this.container.find(".left .ampmselect").val())&&a<12&&(a+=12),"AM"===d&&12===a&&(a=0)):(a=parseInt(this.container.find(".right .hourselect").val(),10),b=parseInt(this.container.find(".right .minuteselect").val(),10),isNaN(b)&&(b=parseInt(this.container.find(".right .minuteselect option:last").val(),10)),c=this.timePickerSeconds?parseInt(this.container.find(".right .secondselect").val(),10):0,!this.timePicker24Hour)&&("PM"===(d=this.container.find(".right .ampmselect").val())&&a<12&&(a+=12),"AM"===d&&12===a&&(a=0)),this.leftCalendar.month.hour(a).minute(b).second(c),this.rightCalendar.month.hour(a).minute(b).second(c)}this.renderCalendar("left"),this.renderCalendar("right"),this.container.find(".ranges li").removeClass("active"),null!=this.endDate&&this.calculateChosenLabel()},renderCalendar:function(k){var c,t=(c="left"==k?this.leftCalendar:this.rightCalendar).month.month(),u=c.month.year(),K=c.month.hour(),A=c.month.minute(),E=c.month.second(),L=b([u,t]).daysInMonth(),o=b([u,t,1]),M=b([u,t,L]),x=b(o).subtract(1,"month").month(),G=b(o).subtract(1,"month").year(),v=b([G,x]).daysInMonth(),F=o.day(),h,q,n,d,e,l,i,f,y,z,w,B,C,J,N,r,j,H,m,D,g,p,s,I;(c=[]).firstDay=o,c.lastDay=M;for(h=0;h<6;h++)c[h]=[];q=v-F+this.locale.firstDay+1,q>v&&(q-=7),F==this.locale.firstDay&&(q=v-6);for(n=b([G,x,q,12,A,E]),d=(h=0,0),e=0;h<42;h++,d++,n=b(n).add(24,"hour"))h>0&&d%7==0&&(d=0,e++),c[e][d]=n.clone().hour(K).minute(A).second(E),n.hour(12),this.minDate&&c[e][d].format("YYYY-MM-DD")==this.minDate.format("YYYY-MM-DD")&&c[e][d].isBefore(this.minDate)&&"left"==k&&(c[e][d]=this.minDate.clone()),this.maxDate&&c[e][d].format("YYYY-MM-DD")==this.maxDate.format("YYYY-MM-DD")&&c[e][d].isAfter(this.maxDate)&&"right"==k&&(c[e][d]=this.maxDate.clone());if("left"==k?this.leftCalendar.calendar=c:this.rightCalendar.calendar=c,l="left"==k?this.minDate:this.startDate,i=this.maxDate,f=("left"==k?this.startDate:this.endDate,this.locale.direction,'<table class="table-condensed">'),f+="<thead>",f+="<tr>",(this.showWeekNumbers||this.showISOWeekNumbers)&&(f+="<th></th>"),l&&!l.isBefore(c.firstDay)||this.linkedCalendars&&"left"!=k?f+="<th></th>":f+='<th class="prev available"><span></span></th>',y=this.locale.monthNames[c[1][1].month()]+c[1][1].format(" YYYY"),this.showDropdowns){for(z=c[1][1].month(),w=c[1][1].year(),B=i&&i.year()||this.maxYear,C=l&&l.year()||this.minYear,J=w==C,N=w==B,r='<select class="monthselect">',j=0;j<12;j++)(!J||l&&j>=l.month())&&(!N||i&&j<=i.month())?r+="<option value='"+j+"'"+(j===z?" selected='selected'":"")+">"+this.locale.monthNames[j]+"</option>":r+="<option value='"+j+"'"+(j===z?" selected='selected'":"")+" disabled='disabled'>"+this.locale.monthNames[j]+"</option>";r+="</select>";for(H='<select class="yearselect">',m=C;m<=B;m++)H+='<option value="'+m+'"'+(m===w?' selected="selected"':"")+">"+m+"</option>";y=r+(H+="</select>")}f+='<th colspan="5" class="month">'+y+"</th>",i&&!i.isAfter(c.lastDay)||this.linkedCalendars&&"right"!=k&&!this.singleDatePicker?f+="<th></th>":f+='<th class="next available"><span></span></th>',f+="</tr>",f+="<tr>",(this.showWeekNumbers||this.showISOWeekNumbers)&&(f+='<th class="week">'+this.locale.weekLabel+"</th>"),a.each(this.locale.daysOfWeek,function(b,a){f+="<th>"+a+"</th>"}),f+="</tr>",f+="</thead>",f+="<tbody>",null==this.endDate&&this.maxSpan&&(D=this.startDate.clone().add(this.maxSpan).endOf("day"),i&&!D.isBefore(i)||(i=D));for(e=0;e<6;e++){f+="<tr>",this.showWeekNumbers?f+='<td class="week">'+c[e][0].week()+"</td>":this.showISOWeekNumbers&&(f+='<td class="week">'+c[e][0].isoWeek()+"</td>");for(d=0;d<7;d++){g=[],c[e][d].isSame(new Date,"day")&&g.push("today"),c[e][d].isoWeekday()>5&&g.push("weekend"),c[e][d].month()!=c[1][1].month()&&g.push("off","ends"),this.minDate&&c[e][d].isBefore(this.minDate,"day")&&g.push("off","disabled"),i&&c[e][d].isAfter(i,"day")&&g.push("off","disabled"),this.isInvalidDate(c[e][d])&&g.push("off","disabled"),c[e][d].format("YYYY-MM-DD")==this.startDate.format("YYYY-MM-DD")&&g.push("active","start-date"),null!=this.endDate&&c[e][d].format("YYYY-MM-DD")==this.endDate.format("YYYY-MM-DD")&&g.push("active","end-date"),null!=this.endDate&&c[e][d]>this.startDate&&c[e][d]<this.endDate&&g.push("in-range"),p=this.isCustomDate(c[e][d]),!1!==p&&("string"==typeof p?g.push(p):Array.prototype.push.apply(g,p)),s="",I=!1;for(h=0;h<g.length;h++)s+=g[h]+" ","disabled"==g[h]&&(I=!0);I||(s+="available"),f+='<td class="'+s.replace(/^\s+|\s+$/g,"")+'" data-title="r'+e+"c"+d+'">'+c[e][d].date()+"</td>"}f+="</tr>"}f+="</tbody>",f+="</table>",this.container.find(".drp-calendar."+k+" .calendar-table").html(f)},renderTimePicker:function(l){var c,b,f,e,i,n,o,p,a,k,g,d,h,m,j;if("right"!=l||this.endDate){e=this.maxDate,(!this.maxSpan||this.maxDate&&!this.startDate.clone().add(this.maxSpan).isBefore(this.maxDate)||(e=this.startDate.clone().add(this.maxSpan)),"left"==l)?(b=this.startDate.clone(),f=this.minDate):"right"==l&&(b=this.endDate.clone(),f=this.startDate,i=this.container.find(".drp-calendar.right .calendar-time"),""!=i.html()&&(b.hour(isNaN(b.hour())?i.find(".hourselect option:selected").val():b.hour()),b.minute(isNaN(b.minute())?i.find(".minuteselect option:selected").val():b.minute()),b.second(isNaN(b.second())?i.find(".secondselect option:selected").val():b.second()),!this.timePicker24Hour)&&(n=i.find(".ampmselect option:selected").val(),"PM"===n&&b.hour()<12&&b.hour(b.hour()+12),"AM"===n&&12===b.hour()&&b.hour(0)),b.isBefore(this.startDate)&&(b=this.startDate.clone()),e&&b.isAfter(e)&&(b=e.clone())),c='<select class="hourselect">';for(o=this.timePicker24Hour?0:1,p=this.timePicker24Hour?23:12,a=o;a<=p;a++)k=a,this.timePicker24Hour||(k=b.hour()>=12?12==a?12:a+12:12==a?0:a),g=b.clone().hour(k),d=!1,f&&g.minute(59).isBefore(f)&&(d=!0),e&&g.minute(0).isAfter(e)&&(d=!0),k!=b.hour()||d?c+=d?'<option value="'+a+'" disabled="disabled" class="disabled">'+a+"</option>":'<option value="'+a+'">'+a+"</option>":c+='<option value="'+a+'" selected="selected">'+a+"</option>";c+="</select> ",c+=': <select class="minuteselect">';for(a=0;a<60;a+=this.timePickerIncrement)h=a<10?"0"+a:a,g=b.clone().minute(a),d=!1,f&&g.second(59).isBefore(f)&&(d=!0),e&&g.second(0).isAfter(e)&&(d=!0),b.minute()!=a||d?c+=d?'<option value="'+a+'" disabled="disabled" class="disabled">'+h+"</option>":'<option value="'+a+'">'+h+"</option>":c+='<option value="'+a+'" selected="selected">'+h+"</option>";if(c+="</select> ",this.timePickerSeconds){c+=': <select class="secondselect">';for(a=0;a<60;a++)h=a<10?"0"+a:a,g=b.clone().second(a),d=!1,f&&g.isBefore(f)&&(d=!0),e&&g.isAfter(e)&&(d=!0),b.second()!=a||d?c+=d?'<option value="'+a+'" disabled="disabled" class="disabled">'+h+"</option>":'<option value="'+a+'">'+h+"</option>":c+='<option value="'+a+'" selected="selected">'+h+"</option>";c+="</select> "}this.timePicker24Hour||(c+='<select class="ampmselect">',m="",j="",f&&b.clone().hour(12).minute(0).second(0).isBefore(f)&&(m=' disabled="disabled" class="disabled"'),e&&b.clone().hour(0).minute(0).second(0).isAfter(e)&&(j=' disabled="disabled" class="disabled"'),b.hour()>=12?c+='<option value="AM"'+m+'>AM</option><option value="PM" selected="selected"'+j+">PM</option>":c+='<option value="AM" selected="selected"'+m+'>AM</option><option value="PM"'+j+">PM</option>",c+="</select>"),this.container.find(".drp-calendar."+l+" .calendar-time").html(c)}},updateFormInputs:function(){this.singleDatePicker||this.endDate&&(this.startDate.isBefore(this.endDate)||this.startDate.isSame(this.endDate))?this.container.find("button.applyBtn").prop("disabled",!1):this.container.find("button.applyBtn").prop("disabled",!0)},move:function(){var b,c={top:0,left:0},f=this.drops,g=a(window).width(),e,h,d;switch(this.parentEl.is("body")||(c={top:this.parentEl.offset().top-this.parentEl.scrollTop(),left:this.parentEl.offset().left-this.parentEl.scrollLeft()},g=this.parentEl[0].clientWidth+this.parentEl.offset().left),f){case"auto":(b=this.element.offset().top+this.element.outerHeight()-c.top)+this.container.outerHeight()>=this.parentEl[0].scrollHeight&&(b=this.element.offset().top-this.container.outerHeight()-c.top,f="up");break;case"up":b=this.element.offset().top-this.container.outerHeight()-c.top;break;default:b=this.element.offset().top+this.element.outerHeight()-c.top}this.container.css({top:0,left:0,right:"auto"}),e=this.container.outerWidth(),(this.container.toggleClass("drop-up","up"==f),"left"==this.opens)?(h=g-this.element.offset().left-this.element.outerWidth(),e+h>a(window).width()?this.container.css({top:b,right:"auto",left:9}):this.container.css({top:b,right:h,left:"auto"})):"center"==this.opens?(d=this.element.offset().left-c.left+this.element.outerWidth()/2-e/2)<0?this.container.css({top:b,right:"auto",left:9}):d+e>a(window).width()?this.container.css({top:b,left:"auto",right:0}):this.container.css({top:b,left:d,right:"auto"}):(d=this.element.offset().left-c.left)+e>a(window).width()?this.container.css({top:b,left:"auto",right:0}):this.container.css({top:b,left:d,right:"auto"})},show:function(b){this.isShowing||(this._outsideClickProxy=a.proxy(function(a){this.outsideClick(a)},this),a(document).on("mousedown.daterangepicker",this._outsideClickProxy).on("touchend.daterangepicker",this._outsideClickProxy).on("click.daterangepicker","[data-toggle=dropdown]",this._outsideClickProxy).on("focusin.daterangepicker",this._outsideClickProxy),a(window).on("resize.daterangepicker",a.proxy(function(a){this.move(a)},this)),this.oldStartDate=this.startDate.clone(),this.oldEndDate=this.endDate.clone(),this.previousRightTime=this.endDate.clone(),this.updateView(),this.container.show(),this.move(),this.element.trigger("show.daterangepicker",this),this.isShowing=!0)},hide:function(b){this.isShowing&&(this.endDate||(this.startDate=this.oldStartDate.clone(),this.endDate=this.oldEndDate.clone()),this.startDate.isSame(this.oldStartDate)&&this.endDate.isSame(this.oldEndDate)||this.callback(this.startDate.clone(),this.endDate.clone(),this.chosenLabel),this.updateElement(),a(document).off(".daterangepicker"),a(window).off(".daterangepicker"),this.container.hide(),this.element.trigger("hide.daterangepicker",this),this.isShowing=!1)},toggle:function(a){this.isShowing?this.hide():this.show()},outsideClick:function(c){var b=a(c.target);"focusin"==c.type||b.closest(this.element).length||b.closest(this.container).length||b.closest(".calendar-table").length||(this.hide(),this.element.trigger("outsideClick.daterangepicker",this))},showCalendars:function(){this.container.addClass("show-calendar"),this.move(),this.element.trigger("showCalendar.daterangepicker",this)},hideCalendars:function(){this.container.removeClass("show-calendar"),this.element.trigger("hideCalendar.daterangepicker",this)},clickRange:function(c){var a=c.target.getAttribute("data-range-key"),b;this.chosenLabel=a,a==this.locale.customRangeLabel?this.showCalendars():(b=this.ranges[a],this.startDate=b[0],this.endDate=b[1],this.timePicker||(this.startDate.startOf("day"),this.endDate.endOf("day")),this.alwaysShowCalendars||this.hideCalendars(),this.clickApply())},clickPrev:function(b){a(b.target).parents(".drp-calendar").hasClass("left")?(this.leftCalendar.month.subtract(1,"month"),this.linkedCalendars&&this.rightCalendar.month.subtract(1,"month")):this.rightCalendar.month.subtract(1,"month"),this.updateCalendars()},clickNext:function(b){a(b.target).parents(".drp-calendar").hasClass("left")?this.leftCalendar.month.add(1,"month"):(this.rightCalendar.month.add(1,"month"),this.linkedCalendars&&this.leftCalendar.month.add(1,"month")),this.updateCalendars()},hoverDate:function(b){if(a(b.target).hasClass("available")){var c=a(b.target).attr("data-title"),d=c.substr(1,1),e=c.substr(3,1),f=a(b.target).parents(".drp-calendar").hasClass("left")?this.leftCalendar.calendar[d][e]:this.rightCalendar.calendar[d][e],g=this.leftCalendar,h=this.rightCalendar,i=this.startDate;this.endDate||this.container.find(".drp-calendar tbody td").each(function(k,b){if(!a(b).hasClass("week")){var d=a(b).attr("data-title"),e=d.substr(1,1),j=d.substr(3,1),c=a(b).parents(".drp-calendar").hasClass("left")?g.calendar[e][j]:h.calendar[e][j];c.isAfter(i)&&c.isBefore(f)||c.isSame(f,"day")?a(b).addClass("in-range"):a(b).removeClass("in-range")}})}},clickDate:function(g){var i,j,h,c,b,d,f,e;a(g.target).hasClass("available")&&(i=a(g.target).attr("data-title"),j=i.substr(1,1),h=i.substr(3,1),c=a(g.target).parents(".drp-calendar").hasClass("left")?this.leftCalendar.calendar[j][h]:this.rightCalendar.calendar[j][h],this.endDate||c.isBefore(this.startDate,"day")?(this.timePicker&&(b=parseInt(this.container.find(".left .hourselect").val(),10),this.timePicker24Hour||("PM"===(e=this.container.find(".left .ampmselect").val())&&b<12&&(b+=12),"AM"===e&&12===b&&(b=0)),d=parseInt(this.container.find(".left .minuteselect").val(),10),isNaN(d)&&(d=parseInt(this.container.find(".left .minuteselect option:last").val(),10)),f=this.timePickerSeconds?parseInt(this.container.find(".left .secondselect").val(),10):0,c=c.clone().hour(b).minute(d).second(f)),this.endDate=null,this.setStartDate(c.clone())):!this.endDate&&c.isBefore(this.startDate)?this.setEndDate(this.startDate.clone()):(this.timePicker&&(b=parseInt(this.container.find(".right .hourselect").val(),10),this.timePicker24Hour||("PM"===(e=this.container.find(".right .ampmselect").val())&&b<12&&(b+=12),"AM"===e&&12===b&&(b=0)),d=parseInt(this.container.find(".right .minuteselect").val(),10),isNaN(d)&&(d=parseInt(this.container.find(".right .minuteselect option:last").val(),10)),f=this.timePickerSeconds?parseInt(this.container.find(".right .secondselect").val(),10):0,c=c.clone().hour(b).minute(d).second(f)),this.setEndDate(c.clone()),this.autoApply&&(this.calculateChosenLabel(),this.clickApply())),this.singleDatePicker&&(this.setEndDate(this.startDate),!this.timePicker&&this.autoApply&&this.clickApply()),this.updateView(),g.stopPropagation())},calculateChosenLabel:function(){var c=!0,d=0,a,b;for(a in this.ranges){if(this.timePicker){if(b=this.timePickerSeconds?"YYYY-MM-DD HH:mm:ss":"YYYY-MM-DD HH:mm",this.startDate.format(b)==this.ranges[a][0].format(b)&&this.endDate.format(b)==this.ranges[a][1].format(b)){c=!1,this.chosenLabel=this.container.find(".ranges li:eq("+d+")").addClass("active").attr("data-range-key");break}}else if(this.startDate.format("YYYY-MM-DD")==this.ranges[a][0].format("YYYY-MM-DD")&&this.endDate.format("YYYY-MM-DD")==this.ranges[a][1].format("YYYY-MM-DD")){c=!1,this.chosenLabel=this.container.find(".ranges li:eq("+d+")").addClass("active").attr("data-range-key");break}d++}c&&(this.showCustomRangeLabel?this.chosenLabel=this.container.find(".ranges li:last").addClass("active").attr("data-range-key"):this.chosenLabel=null,this.showCalendars())},clickApply:function(a){this.hide(),this.element.trigger("apply.daterangepicker",this)},clickCancel:function(a){this.startDate=this.oldStartDate,this.endDate=this.oldEndDate,this.hide(),this.element.trigger("cancel.daterangepicker",this)},monthOrYearChanged:function(f){var d=a(f.target).closest(".drp-calendar").hasClass("left"),g=d?"left":"right",e=this.container.find(".drp-calendar."+g),c=parseInt(e.find(".monthselect").val(),10),b=e.find(".yearselect").val();d||(b<this.startDate.year()||b==this.startDate.year()&&c<this.startDate.month())&&(c=this.startDate.month(),b=this.startDate.year()),this.minDate&&(b<this.minDate.year()||b==this.minDate.year()&&c<this.minDate.month())&&(c=this.minDate.month(),b=this.minDate.year()),this.maxDate&&(b>this.maxDate.year()||b==this.maxDate.year()&&c>this.maxDate.month())&&(c=this.maxDate.month(),b=this.maxDate.year()),d?(this.leftCalendar.month.month(c).year(b),this.linkedCalendars&&(this.rightCalendar.month=this.leftCalendar.month.clone().add(1,"month"))):(this.rightCalendar.month.month(c).year(b),this.linkedCalendars&&(this.leftCalendar.month=this.rightCalendar.month.clone().subtract(1,"month"))),this.updateCalendars()},timeChanged:function(i){var d=a(i.target).closest(".drp-calendar"),j=d.hasClass("left"),c=parseInt(d.find(".hourselect").val(),10),f=parseInt(d.find(".minuteselect").val(),10),h,g,b,e;isNaN(f)&&(f=parseInt(d.find(".minuteselect option:last").val(),10)),h=this.timePickerSeconds?parseInt(d.find(".secondselect").val(),10):0,this.timePicker24Hour||(g=d.find(".ampmselect").val(),"PM"===g&&c<12&&(c+=12),"AM"===g&&12===c&&(c=0)),j?(b=this.startDate.clone(),b.hour(c),b.minute(f),b.second(h),this.setStartDate(b),this.singleDatePicker?this.endDate=this.startDate.clone():this.endDate&&this.endDate.format("YYYY-MM-DD")==b.format("YYYY-MM-DD")&&this.endDate.isBefore(b)&&this.setEndDate(b.clone())):this.endDate&&(e=this.endDate.clone(),e.hour(c),e.minute(f),e.second(h),this.setEndDate(e)),this.updateCalendars(),this.updateFormInputs(),this.renderTimePicker("left"),this.renderTimePicker("right")},elementChanged:function(){if(this.element.is("input")&&this.element.val().length){var d=this.element.val().split(this.locale.separator),a=null,c=null;2===d.length&&(a=b(d[0],this.locale.format),c=b(d[1],this.locale.format)),(this.singleDatePicker||null===a||null===c)&&(c=a=b(this.element.val(),this.locale.format)),a.isValid()&&c.isValid()&&(this.setStartDate(a),this.setEndDate(c),this.updateView())}},keydown:function(a){9!==a.keyCode&&13!==a.keyCode||this.hide(),27===a.keyCode&&(a.preventDefault(),a.stopPropagation(),this.hide())},updateElement:function(){if(this.element.is("input")&&this.autoUpdateInput){var a=this.startDate.format(this.locale.format);this.singleDatePicker||(a+=this.locale.separator+this.endDate.format(this.locale.format)),a!==this.element.val()&&this.element.val(a).trigger("change")}},remove:function(){this.container.remove(),this.element.off(".daterangepicker"),this.element.removeData()}},a.fn.daterangepicker=function(b,d){var e=a.extend(!0,{},a.fn.daterangepicker.defaultOptions,b);return this.each(function(){var b=a(this);b.data("daterangepicker")&&b.data("daterangepicker").remove(),b.data("daterangepicker",new c(b,e,d))}),this},c})